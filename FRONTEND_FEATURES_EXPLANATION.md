# 🎨 شرح الميزات الجديدة في Frontend

## 📋 الميزات الثلاث الجديدة

---

## 1️⃣ Estimated Delivery Time (وقت التوصيل المتوقع)

### 📍 أين سيظهر؟
في **صفحة المنتج** (`/shop/product/:id`) - بعد اسم المنتج وقبل السعر

### 🎨 كيف سيبدو؟

```
┌─────────────────────────────────────────┐
│  [صورة المنتج]                          │
│                                         │
│  اسم المنتج                             │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │ 🚚 ⏱️ التوصيل خلال 2-3 أيام    │   │
│  │ * وقت التوصيل قد يختلف حسب     │   │
│  │   المنطقة                        │   │
│  └─────────────────────────────────┘   │
│                                         │
│  السعر: 500 جنيه                        │
└─────────────────────────────────────────┘
```

### ⚙️ الإعدادات:
- **تفعيل/تعطيل**: من `/settings/storefront-features`
- **إظهار في صفحة المنتج**: نعم/لا
- **تخصيص النص**: "التوصيل خلال {time}"

---

## 2️⃣ Pre-order Product (الطلب المسبق)

### 📍 أين سيظهر؟
في **صفحة المنتج** - بدلاً من زر "أضف للسلة" عندما يكون المنتج للطلب المسبق

### 🎨 كيف سيبدو؟

```
┌─────────────────────────────────────────┐
│  [صورة المنتج]                          │
│                                         │
│  اسم المنتج                             │
│  السعر: 500 جنيه                        │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │ 📦 متوفر للطلب المسبق          │   │
│  │                                 │   │
│  │ 📅 تاريخ التوفر المتوقع:        │   │
│  │    15 فبراير 2025              │   │
│  │                                 │   │
│  │ 💬 رسالة مخصصة (إن وجدت)       │   │
│  │                                 │   │
│  │ ┌───────────────────────────┐  │   │
│  │ │ 💰 السعر: 500 جنيه        │  │   │
│  │ │ * يمكنك الدفع الآن أو عند  │  │   │
│  │ │   الاستلام                │  │   │
│  │ └───────────────────────────┘  │   │
│  │                                 │   │
│  │ [🛒 طلب مسبق الآن]             │   │
│  │                                 │   │
│  │ ✅ سيتم إشعارك عند توفر المنتج │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

### ⚙️ الإعدادات:
- **تفعيل للمنتج**: من صفحة تعديل المنتج
- **تاريخ التوفر**: تاريخ متوقع لتوفر المنتج
- **رسالة مخصصة**: رسالة إضافية للعميل

---

## 3️⃣ FOMO Popup (نافذة FOMO)

### 📍 أين سيظهر؟
**Popup** يظهر في منتصف الشاشة بعد وقت محدد أو عند التمرير أو عند محاولة الخروج

### 🎨 كيف سيبدو؟

```
        [خلفية شفافة داكنة]
        
        ┌─────────────────────────────┐
        │  [X]                        │
        │                             │
        │      🔥                     │
        │                             │
        │  ⚡ لا تفوت الفرصة!         │
        │                             │
        │  🔥 تم بيع 23 قطعة في آخر   │
        │     ساعة!                   │
        │                             │
        │  ┌───────────────────────┐ │
        │  │ ⏰ عرض محدود - لا تفوت!│ │
        │  └───────────────────────┘ │
        │                             │
        │  [🛒 أضف للسلة الآن]       │
        │  [لاحقاً]                   │
        └─────────────────────────────┘
```

### ⚙️ الإعدادات:
- **تفعيل/تعطيل**: من `/settings/storefront-features`
- **نوع الرسالة**: 
  - عدد المبيعات ("تم بيع X قطعة")
  - عدد الزوار ("X شخص يشاهدون")
  - المخزون ("آخر X قطع")
  - العد التنازلي ("ينتهي خلال X")
- **متى تظهر**:
  - بعد وقت محدد (مثلاً 30 ثانية)
  - عند التمرير (مثلاً 30% من الصفحة)
  - عند محاولة الخروج
- **إظهار مرة واحدة**: لكل جلسة

---

## 📍 مواقع الميزات في الصفحة

### صفحة المنتج الكاملة:

```
┌─────────────────────────────────────────┐
│  [Header - Navigation]                   │
├─────────────────────────────────────────┤
│                                          │
│  [صورة المنتج]    │  اسم المنتج         │
│                   │                      │
│                   │  ┌────────────────┐ │
│                   │  │ 🚚 ⏱️ التوصيل  │ │ ← Estimated Delivery
│                   │  │ خلال 2-3 أيام  │ │
│                   │  └────────────────┘ │
│                   │                      │
│                   │  السعر: 500 جنيه     │
│                   │                      │
│                   │  ┌────────────────┐ │
│                   │  │ 📦 طلب مسبق    │ │ ← Pre-order (إن كان مفعّل)
│                   │  │ [طلب مسبق الآن]│ │
│                   │  └────────────────┘ │
│                   │                      │
│                   │  [أضف للسلة]        │
│                   │  [شراء الآن]        │
│                   │                      │
│                   │  [الوصف]             │
│                   │  [المواصفات]         │
│                   │  [التقييمات]         │
└─────────────────────────────────────────┘

        [FOMO Popup يظهر هنا] ← يطفو فوق كل شيء
```

---

## 🎯 سيناريوهات الاستخدام

### السيناريو 1: منتج عادي
```
1. العميل يفتح صفحة المنتج
2. يرى "⏱️ التوصيل خلال 2-3 أيام" ← Estimated Delivery
3. بعد 30 ثانية → يظهر FOMO Popup
4. يضغط "أضف للسلة الآن" أو "لاحقاً"
```

### السيناريو 2: منتج للطلب المسبق
```
1. العميل يفتح صفحة المنتج
2. يرى "📦 متوفر للطلب المسبق" ← Pre-order
3. يرى تاريخ التوفر: "15 فبراير 2025"
4. يضغط "طلب مسبق الآن"
5. يتم إضافة المنتج للسلة
6. سيتم إشعاره عند توفر المنتج
```

### السيناريو 3: FOMO Popup
```
1. العميل يفتح صفحة المنتج
2. يبدأ في القراءة
3. بعد 30 ثانية → يظهر Popup:
   "🔥 تم بيع 23 قطعة في آخر ساعة!"
4. يضغط "أضف للسلة الآن"
5. يتم التمرير تلقائياً لزر "أضف للسلة"
```

---

## ⚙️ صفحة الإعدادات

### `/settings/storefront-features`

```
┌─────────────────────────────────────────┐
│  إعدادات واجهة المتجر                   │
├─────────────────────────────────────────┤
│                                         │
│  ⏱️ وقت التوصيل المتوقع        [ON]   │
│  ├─ إظهار في صفحة المنتج       [ON]   │
│  └─ نص العرض: "التوصيل خلال {time}"   │
│                                         │
│  🔥 نافذة FOMO                  [OFF]  │
│  ├─ نوع الرسالة: [عدد المبيعات ▼]    │
│  ├─ متى تظهر: [بعد وقت محدد ▼]       │
│  ├─ تأخير الظهور: [30] ثانية         │
│  ├─ إظهار مرة واحدة لكل جلسة   [ON]   │
│  └─ رسالة مخصصة: [________________]   │
│                                         │
│  [حفظ التغييرات]                       │
└─────────────────────────────────────────┘
```

---

## 📝 ملخص

| الميزة | الموقع | متى تظهر | الفائدة |
|--------|--------|----------|---------|
| **Estimated Delivery** | صفحة المنتج | دائماً (إن كان مفعّل) | زيادة الثقة |
| **Pre-order** | صفحة المنتج | للمنتجات المسبقة فقط | بيع قبل التوفر |
| **FOMO Popup** | Popup | بعد وقت/تمرير/خروج | زيادة المبيعات |

---

## 🎨 الألوان والتصميم

- **Estimated Delivery**: أزرق فاتح (`bg-blue-50`)
- **Pre-order**: بنفسجي/أزرق (`bg-purple-50`)
- **FOMO Popup**: أحمر/برتقالي (`bg-red-500`)

---

**✅ كل هذا سيظهر تلقائياً بعد Migration وتفعيل الميزات!**

