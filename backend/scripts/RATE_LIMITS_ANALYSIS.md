# ๐ ุชุญููู ูุธุงู ุฅุฏุงุฑุฉ ุญุฏูุฏ ุงูุงุณุชุฎุฏุงู (Rate Limits)

## ๐ ุงููุถุน ุงูุญุงูู ูููุธุงู

### โ ูุง ูุนููู ุงููุธุงู ุญุงููุงู:

1. **ุชุชุจุน ุงูุงุณุชุฎุฏุงู (RPM, RPH, RPD)**:
   - โ ูุชุชุจุน `RPM` (Requests Per Minute) ููู ูููุฐุฌ
   - โ ูุชุชุจุน `RPH` (Requests Per Hour) ููู ูููุฐุฌ  
   - โ ูุชุชุจุน `RPD` (Requests Per Day) ููู ูููุฐุฌ
   - โ ูุฎุฒู ุงูุงุณุชุฎุฏุงู ูู `GeminiKeyModel.usage` ูู JSON

2. **ูุญุต ุงูุญุฏูุฏ ูุจู ุงูุงุณุชุฎุฏุงู**:
   - โ ููุญุต `RPM` ูุจู ุงุณุชุฎุฏุงู ุงููููุฐุฌ (ูู `findBestAvailableModelInActiveKey`)
   - โ ููุญุต `RPH` ูุจู ุงุณุชุฎุฏุงู ุงููููุฐุฌ
   - โ ููุญุต `RPD` ูุจู ุงุณุชุฎุฏุงู ุงููููุฐุฌ
   - โ ูุชุฎุทู ุงููููุฐุฌ ุฅุฐุง ุชุฌุงูุฒ ุฃู ุญุฏ

3. **ุงูุชุจุฏูู ุงูุชููุงุฆู**:
   - โ ูุจุญุซ ุนู ูููุฐุฌ ุขุฎุฑ ูู ููุณ ุงูููุชุงุญ ุฅุฐุง ุชุฌุงูุฒ ุงููููุฐุฌ ุงูุญุงูู ุงูุญุฏ
   - โ ูุจุญุซ ุนู ููุชุงุญ ุขุฎุฑ ุฅุฐุง ูู ูุฌุฏ ูููุฐุฌ ูุชุงุญ ูู ุงูููุชุงุญ ุงูุญุงูู
   - โ ูุจุญุซ ูู ุงูููุงุชูุญ ุงููุฑูุฒูุฉ ูู fallback

4. **ุชุญุฏูุซ ุงูุงุณุชุฎุฏุงู**:
   - โ ูุญุฏุซ `RPM`, `RPH`, `RPD` ุจุนุฏ ูู ุงุณุชุฎุฏุงู (ูู `updateModelUsage`)
   - โ ูุนูุฏ ุชุนููู ุงูููุงูุฐ ุงูุฒูููุฉ ุชููุงุฆูุงู (ุจุนุฏ 1 ุฏูููุฉุ 1 ุณุงุนุฉุ 24 ุณุงุนุฉ)

### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ:

1. **ุนุฏู ุชูุฒูุน ุงูุงุณุชุฎุฏุงู ุจุดูู ุฐูู**:
   - โ ุงููุธุงู ูุณุชุฎุฏู ุฃูู ูููุฐุฌ ูุชุงุญ ุญุณุจ ุงูุฃููููุฉ
   - โ ูุง ููุฒุน ุงูุงุณุชุฎุฏุงู ุจูู ุงูููุงุชูุญ ุงููุชุนุฏุฏุฉ
   - โ ูุฏ ูุณุชููุฏ ููุชุงุญ ูุงุญุฏ ุจุณุฑุนุฉ ุจูููุง ุงูููุงุชูุญ ุงูุฃุฎุฑู ูุงุฑุบุฉ

2. **ุนุฏู ุญุณุงุจ ุงูุณุนุฉ ุงูุฅุฌูุงููุฉ**:
   - โ ูุง ูุญุณุจ ุงูุณุนุฉ ุงูุฅุฌูุงููุฉ = ุนุฏุฏ ุงูููุงุชูุญ ร ุงูุญุฏ ููู ููุชุงุญ
   - โ ูุซุงู: ุฅุฐุง ูุงู ูุฏูู 3 ููุงุชูุญ ููู ููุชุงุญ ูู `gemini-2.5-pro` ุจู RPM=2
   - โ ุงูุณุนุฉ ุงูุฅุฌูุงููุฉ = 3 ร 2 = 6 RPM (ููู ุงููุธุงู ูุง ูุณุชููุฏ ูู ูุฐุง)

3. **ุนุฏู ุชูุฒูุน ุงูุงุณุชุฎุฏุงู ุนูู ุงูููุงุชูุญ**:
   - โ ุฅุฐุง ูุงู ูุฏูู 3 ููุงุชูุญุ ุงููุธุงู ูุณุชุฎุฏู ุงูููุชุงุญ ุงูุฃูู ุญุชู ูุณุชููุฏู
   - โ ุซู ููุชูู ููููุชุงุญ ุงูุซุงููุ ุซู ุงูุซุงูุซ
   - โ ุจุฏูุงู ูู ุชูุฒูุน ุงูุงุณุชุฎุฏุงู ุจุงูุชุณุงูู: 1โ2โ3โ1โ2โ3

4. **ุนุฏู ูุฑุงุนุงุฉ TPM (Tokens Per Minute)**:
   - โ ุงููุธุงู ูุชุชุจุน ููุท RPM, RPH, RPD
   - โ ูุง ูุชุชุจุน TPM (Tokens Per Minute) - ููู ููู ุฌุฏุงู!
   - โ ูู ุงูุตูุฑุฉ: `gemini-2.5-pro` ูู TPM: 10/125K (10 tokens ูู 125,000)

## ๐ ุงูุญุฏูุฏ ุงููุนููุฉ ูู ุงูุตูุฑุฉ:

| ุงููููุฐุฌ | RPM | TPM | RPD |
|---------|-----|-----|-----|
| `gemini-2.5-pro` | 1/2 | 10/125K | 8/50 |
| `gemini-robotics-er-1.5-preview` | 2/10 | 10/250K | 5/250 |
| `learnlm-2.0-flash-experimental` | 3/15 | N/A | 6/1.5K |
| `gemini-2.5-flash` | 1/10 | 10/250K | 8/250 |
| `gemini-2.0-flash-lite` | 2/30 | 29/1M | 9/200 |
| `gemini-2.0-flash` | 1/15 | 9/1M | 8/200 |
| `gemini-2.5-flash-lite` | 1/15 | 13/250K | 7/1K |

## ๐ฏ ุงูุชุญุณููุงุช ุงููุทููุจุฉ:

### 1. **ุชูุฒูุน ุฐูู ููุงุณุชุฎุฏุงู (Load Balancing)**:
   - โ ุชูุฒูุน ุงูุงุณุชุฎุฏุงู ุจุงูุชุณุงูู ุจูู ุงูููุงุชูุญ ุงููุชุนุฏุฏุฉ
   - โ ุงุณุชุฎุฏุงู Round-Robin ุฃู Least-Used algorithm
   - โ ุญุณุงุจ ุงูุณุนุฉ ุงูุฅุฌูุงููุฉ = ุนุฏุฏ ุงูููุงุชูุญ ร ุงูุญุฏ ููู ููุชุงุญ

### 2. **ุชุชุจุน TPM (Tokens Per Minute)**:
   - โ ุฅุถุงูุฉ ุชุชุจุน TPM ููู ูููุฐุฌ
   - โ ูุญุต TPM ูุจู ุงุณุชุฎุฏุงู ุงููููุฐุฌ
   - โ ุชุญุฏูุซ TPM ุจุนุฏ ูู ุงุณุชุฎุฏุงู (ุจูุงุกู ุนูู ุนุฏุฏ ุงูู tokens ุงููุณุชุฎุฏูุฉ)

### 3. **ุชุญุณูู ุฎูุงุฑุฒููุฉ ุงุฎุชูุงุฑ ุงููููุฐุฌ**:
   - โ ุงุฎุชูุงุฑ ุงููููุฐุฌ ุจูุงุกู ุนูู:
     - ุงูุฃููููุฉ (Priority)
     - ุงูุงุณุชุฎุฏุงู ุงูุญุงูู (Usage)
     - ุงูุณุนุฉ ุงููุชุจููุฉ (Remaining Capacity)
     - ุนุฏุฏ ุงูููุงุชูุญ ุงููุชุงุญุฉ ููุฐุง ุงููููุฐุฌ

### 4. **ูุธุงู ุชุญุฐูุฑ ูุจูุฑ**:
   - โ ุชุญุฐูุฑ ุนูุฏ ุงููุตูู ูู 80% ูู ุงูุญุฏ
   - โ ุชุญุฐูุฑ ุนูุฏ ุงููุตูู ูู 90% ูู ุงูุญุฏ
   - โ ุฅุดุนุงุฑ ุนูุฏ ุงุณุชููุงุฏ ููุชุงุญ/ูููุฐุฌ

### 5. **ุฅุญุตุงุฆูุงุช ูุงุณุชุฎุฏุงู**:
   - โ ุนุฑุถ ุงูุณุนุฉ ุงูุฅุฌูุงููุฉ ุงููุชุงุญุฉ
   - โ ุนุฑุถ ุงูุงุณุชุฎุฏุงู ุงูุญุงูู ููู ููุชุงุญ/ูููุฐุฌ
   - โ ุนุฑุถ ุงููุณุจุฉ ุงููุฆููุฉ ููุงุณุชุฎุฏุงู

## ๐ง ุงูุชูุตูุงุช:

1. **ุฅุถุงูุฉ ุชุชุจุน TPM**: ููู ุฌุฏุงู ูุฃู ุจุนุถ ุงูููุงุฐุฌ ููุง ุญุฏูุฏ TPM ููุฎูุถุฉ
2. **ุชุญุณูู ุชูุฒูุน ุงูุงุณุชุฎุฏุงู**: ุงุณุชุฎุฏุงู Round-Robin ุฃู Least-Used
3. **ุญุณุงุจ ุงูุณุนุฉ ุงูุฅุฌูุงููุฉ**: ุนุฑุถ ุงูุณุนุฉ ุงูุฅุฌูุงููุฉ ูู ููุญุฉ ุงูุชุญูู
4. **ูุธุงู ุชุญุฐูุฑ**: ุชุญุฐูุฑ ูุจูุฑ ูุจู ุงุณุชููุงุฏ ุงูุญุฏูุฏ

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

1. โ ูุญุต ุงููุธุงู ุงูุญุงูู (ุชู)
2. โณ ุฅุถุงูุฉ ุชุชุจุน TPM
3. โณ ุชุญุณูู ุชูุฒูุน ุงูุงุณุชุฎุฏุงู
4. โณ ุฅุถุงูุฉ ูุธุงู ุชุญุฐูุฑ
5. โณ ุฅุถุงูุฉ ุฅุญุตุงุฆูุงุช ูู ููุญุฉ ุงูุชุญูู

