# โ ุฅุตูุงุญ: ุฅุฒุงูุฉ ุงูุชูุฑุงุฑ ูู ุงูู Prompt

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ:** 2025-11-28  
**ุงููุฏู:** ุฅุฒุงูุฉ ุงูุชูุฑุงุฑุงุช ูู ุงูู Prompt ูุชูููุฑ ~400-600 ุญุฑู

---

## ๐ ุงูุชูุฑุงุฑุงุช ุงูุชู ุชู ุฅุฒุงูุชูุง

### 1. ุชุญุฐูุฑ ุนุฏู ุงูุชุฑุญูุจ โ

**ูุจู ุงูุฅุตูุงุญ:**
- โ ูุธูุฑ ูู 3 ุฃูุงูู ูุฎุชููุฉ:
  1. ุงูุณุทุฑ 368-375: ุจุนุฏ ููุงุนุฏ ุงูุงุณุชุฌุงุจุฉ
  2. ุงูุณุทุฑ 606-607: ูู ูุณู ุณุฌู ุงููุญุงุฏุซุฉ
  3. ุงูุณุทุฑ 671: ูู ููุงูุฉ ุชุนูููุงุช ุณุฌู ุงููุญุงุฏุซุฉ

**ุจุนุฏ ุงูุฅุตูุงุญ:**
- โ ูุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท ูู ูุณู ุณุฌู ุงููุญุงุฏุซุฉ (ููุญุฏ ููุฎุชุตุฑ)

**ุงูุชูููุฑ:** ~200-250 ุญุฑู

---

### 2. ุชุนูููุงุช ูุฑุงุกุฉ ุงููุญุงุฏุซุฉ โ

**ูุจู ุงูุฅุตูุงุญ:**
- โ ูุธูุฑ ูู ููุงููู:
  1. ุงูุณุทุฑ 479-491: ุชุนูููุงุช ูุจู ุณุฌู ุงููุญุงุฏุซุฉ (~300 ุญุฑู)
  2. ุงูุณุทุฑ 665-671: ุชุนูููุงุช ูู ููุงูุฉ ุณุฌู ุงููุญุงุฏุซุฉ (~200 ุญุฑู)

**ุจุนุฏ ุงูุฅุตูุงุญ:**
- โ ูุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท ูู ูุณู ุณุฌู ุงููุญุงุฏุซุฉ (ููุญุฏ ููุฎุชุตุฑ)

**ุงูุชูููุฑ:** ~300-350 ุญุฑู

---

### 3. ุชุนูููุงุช ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ โ

**ูุจู ุงูุฅุตูุงุญ:**
- โ ูุธูุฑ ูู ููุงููู:
  1. ุงูุณุทุฑ 600-608: ุชุญุฐูุฑ ูู ุจุฏุงูุฉ ุณุฌู ุงููุญุงุฏุซุฉ (~250 ุญุฑู)
  2. ุงูุณุทุฑ 665-671: ุชุนูููุงุช ูู ููุงูุฉ ุณุฌู ุงููุญุงุฏุซุฉ (~200 ุญุฑู)

**ุจุนุฏ ุงูุฅุตูุงุญ:**
- โ ูุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท ูู ุจุฏุงูุฉ ุณุฌู ุงููุญุงุฏุซุฉ (ููุญุฏ ููุฎุชุตุฑ)

**ุงูุชูููุฑ:** ~200-250 ุญุฑู

---

### 4. ููุงุนุฏ ุงูุตูุฑ โ

**ูุจู ุงูุฅุตูุงุญ:**
- โ ูุธูุฑ ูู 3 ุฃูุงูู:
  1. ุงูุณุทุฑ 687-690: ูู ุณูุงู ุขุฎุฑ ููุชุฌ ูุฐููุฑ (~100 ุญุฑู)
  2. ุงูุณุทุฑ 892-898: ูู ูุณู ุชุนูููุงุช ุฌูุฏุฉ ุงูุฑุฏ (~200 ุญุฑู)
  3. ุงูุณุทุฑ 1141: ูู buildOrderConfirmationPrompt (~50 ุญุฑู)

**ุจุนุฏ ุงูุฅุตูุงุญ:**
- โ ูุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท ูู ูุณู ุชุนูููุงุช ุงูุฌูุฏุฉ (ููุญุฏ ููุฎุชุตุฑ)

**ุงูุชูููุฑ:** ~150-200 ุญุฑู

---

### 5. ูุนูููุงุช ุงูุตูุฑ (ุฅุดุนุงุฑุงุช) โ

**ูุจู ุงูุฅุตูุงุญ:**
- โ ูุธูุฑ ูู 3 ุฃูุงูู:
  1. ุงูุณุทุฑ 817: "ุงูุตูุฑ ุณุชูุฑุณู ุชููุงุฆูุงู"
  2. ุงูุณุทุฑ 853: "ุงูุตูุฑ ูุชุงุญุฉ ูุณุชูุฑุณู ุชููุงุฆูุงู"
  3. ุงูุณุทุฑ 1000-1002: ูู finalNotes

**ุจุนุฏ ุงูุฅุตูุงุญ:**
- โ ุชู ุฅุฒุงูุฉ ุงูุชูุฑุงุฑุงุช - ุงููุนูููุงุช ููุฌูุฏุฉ ูู ูุณู ุชุนูููุงุช ุงูุฌูุฏุฉ

**ุงูุชูููุฑ:** ~50-100 ุญุฑู

---

## ๐ ุฅุฌูุงูู ุงูุชูููุฑ

### ุงูุชูููุฑ ุงููุชููุน:
- ุชุญุฐูุฑ ุนุฏู ุงูุชุฑุญูุจ: ~200-250 ุญุฑู
- ุชุนูููุงุช ูุฑุงุกุฉ ุงููุญุงุฏุซุฉ: ~300-350 ุญุฑู
- ุชุนูููุงุช ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ: ~200-250 ุญุฑู
- ููุงุนุฏ ุงูุตูุฑ: ~150-200 ุญุฑู
- ูุนูููุงุช ุงูุตูุฑ: ~50-100 ุญุฑู

**ุงูุฅุฌูุงูู:** ~900-1150 ุญุฑู (ุฃูุซุฑ ูู ุงููุชููุน!)

---

## โ ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### 1. ุฅุฒุงูุฉ ุชุญุฐูุฑ ุนุฏู ุงูุชุฑุญูุจ ุงูููุฑุฑ

**ุงููููุน:** `responseGenerator.js` - ุงูุณุทุฑ 363-377

**ูุจู:**
```javascript
// โ FIX: ุฅุถุงูุฉ ุชุญุฐูุฑ ุตุงุฑู ุจุนุฏู ุงูุชุฑุญูุจ ุฅุฐุง ูุงูุช ููุงู ูุญุงุฏุซุฉ ุณุงุจูุฉ
if (conversationMemory && conversationMemory.length > 0) {
  const aiMessagesCount = conversationMemory.filter(msg => !msg.isFromCustomer).length;
  if (aiMessagesCount > 0) {
    prompt += `๐ซ๐ซ๐ซ ุชุญุฐูุฑ ููู ุฌุฏุงู - ููููุน ุงูุชุฑุญูุจ!\n`;
    // ... ~200 ุญุฑู
  }
}
```

**ุจุนุฏ:**
```javascript
// โ FIX: ุชู ููู ุชุญุฐูุฑ ุนุฏู ุงูุชุฑุญูุจ ุฅูู ูุณู ุณุฌู ุงููุญุงุฏุซุฉ ูุชุฌูุจ ุงูุชูุฑุงุฑ
```

---

### 2. ุฅุฒุงูุฉ ุชุนูููุงุช ูุฑุงุกุฉ ุงููุญุงุฏุซุฉ ุงูููุฑุฑุฉ

**ุงููููุน:** `responseGenerator.js` - ุงูุณุทุฑ 478-491

**ูุจู:**
```javascript
prompt += `โ๏ธ ููู ุฌุฏุงู - ุชุนูููุงุช ูุฑุงุกุฉ ุงููุญุงุฏุซุฉ:
=====================================
ูุจู ุงูุณุคุงู ุนู ุฃู ูุนูููุงุช...
๐ ุงูููุงุนุฏ ุงููููุฉ:
1. โ ุฅุฐุง ูุงู ุงูุนููู ูุฏ ุฃุฑุณู ุงูุนููุงู...
// ... ~300 ุญุฑู
```

**ุจุนุฏ:**
```javascript
// โ FIX: ุชู ููู ุชุนูููุงุช ูุฑุงุกุฉ ุงููุญุงุฏุซุฉ ุฅูู ูุณู ุณุฌู ุงููุญุงุฏุซุฉ ูุชุฌูุจ ุงูุชูุฑุงุฑ
```

---

### 3. ุชูุญูุฏ ุชุนูููุงุช ุณุฌู ุงููุญุงุฏุซุฉ

**ุงููููุน:** `responseGenerator.js` - ุงูุณุทุฑ 597-608

**ูุจู:**
```javascript
prompt += `๐ ุณุฌู ุงููุญุงุฏุซุฉ (โ๏ธ ุงูุฑุฃูู ุจุนูุงูุฉ ูุงุฆูุฉ ูุงุณุชุฎุฏููู ูู ุฑุฏู):\n`;
prompt += `=====================================\n`;
prompt += `๐ฅ๐ฅ๐ฅ ุชุญุฐูุฑ ููู ุฌุฏุงู - ูุฌุจ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ:\n`;
prompt += `=====================================\n`;
prompt += `๐ ูุฐุง ุงูุณูุงู ูุญุชูู ุนูู ูุนูููุงุช ูููุฉ ุฌุฏุงู...\n`;
// ... ~250 ุญุฑู
prompt += `๐ซ ููู ุฌุฏุงู: ูุฐู ููุณุช ุฃูู ุฑุณุงูุฉ - ูุง ุชุฑุญุจู ุจุงูุนููู ูุฑุฉ ุฃุฎุฑู!\n`;
prompt += `๐ซ ููููุน ุงุณุชุฎุฏุงู ุฃู ุชุญูุฉ...\n`;
```

**ุจุนุฏ:**
```javascript
const aiMessagesCount = conversationMemory.filter(msg => !msg.isFromCustomer).length;
prompt += `๐ ุณุฌู ุงููุญุงุฏุซุฉ:\n`;
prompt += `=====================================\n`;
if (aiMessagesCount > 0) {
  prompt += `๐ซ ููููุน ุงูุชุฑุญูุจ - ุงููุญุงุฏุซุฉ ูุณุชูุฑุฉ (${aiMessagesCount} ุฑุฏ ุณุงุจู)\n`;
}
prompt += `โ๏ธ ุงูุฑุฃู ุงููุญุงุฏุซุฉ ูุจู ุงูุณุคุงู ุนู ุฃู ูุนูููุงุช - ุงุณุชุฎุฏูู ุงููุนูููุงุช ุงููุฐููุฑุฉ ุณุงุจูุงู ูุจุงุดุฑุฉ\n`;
prompt += `โ ุงุฑุจุทู ุฑุฏู ุจุงููุญุงุฏุซุฉ ุงูุณุงุจูุฉ ุจุงุณุชุฎุฏุงู: "ุฒู ูุง ุฐูุฑุชูู ูุจู ูุฏู"ุ "ููุง ูุถุญุชูู ุณุงุจูุงู"\n`;
prompt += `=====================================\n\n`;
```

**ุงูุชูููุฑ:** ~150-200 ุญุฑู

---

### 4. ุฅุฒุงูุฉ ุชุนูููุงุช ููุงูุฉ ุณุฌู ุงููุญุงุฏุซุฉ ุงูููุฑุฑุฉ

**ุงููููุน:** `responseGenerator.js` - ุงูุณุทุฑ 662-672

**ูุจู:**
```javascript
prompt += `=====================================\n`;
prompt += `๐ฅ ุชุนูููุงุช ูููุฉ ุฌุฏุงู:\n`;
prompt += `=====================================\n`;
prompt += `1. โ ุงูุฑุฃู ุงููุญุงุฏุซุฉ ุงูุณุงุจูุฉ ุจุนูุงูุฉ ูุงุฆูุฉ\n`;
prompt += `2. โ ุงุณุชุฎุฏูู ุงููุนูููุงุช ุงููุฐููุฑุฉ ุณุงุจูุงู ูู ุฑุฏู\n`;
// ... 7 ููุงุท (~200 ุญุฑู)
```

**ุจุนุฏ:**
```javascript
prompt += `=====================================\n`;
// โ FIX: ุชู ุฅุฒุงูุฉ ุงูุชูุฑุงุฑ - ุงูุชุนูููุงุช ููุฌูุฏุฉ ูู ุงูุจุฏุงูุฉ
```

**ุงูุชูููุฑ:** ~200 ุญุฑู

---

### 5. ุชูุญูุฏ ููุงุนุฏ ุงูุตูุฑ

**ุงููููุน:** `responseGenerator.js` - ุงูุณุทุฑ 886-903

**ูุจู:**
```javascript
prompt += `๐จ ููุงุนุฏ ูููุฉ ุฌุฏุงู ููุตูุฑ ูุงูุฃุณุนุงุฑ:\n`;
prompt += `=====================================\n`;
prompt += `๐ธ ุจุฎุตูุต ุงูุตูุฑ:\n`;
if (hasImages) {
  prompt += `   โ ุงูุตูุฑ ูุชุงุญุฉ ูุณุชูุฑุณู ุชููุงุฆูุงู ูู ุฑุณุงูุฉ ูููุตูุฉ - ูุง ุชุฐูุฑููุง ูู ุงููุต!\n`;
  prompt += `   โ ููููุน ุชูุงูุงู ุงุณุชุฎุฏุงู: "[ุตูุฑุฉ]" ุฃู "[ุตูุฑุฉ ุงูููุชุฌ]"...\n`;
  // ... ~200 ุญุฑู
}
```

**ุจุนุฏ:**
```javascript
prompt += `๐จ ููุงุนุฏ ูููุฉ:\n`;
prompt += `=====================================\n`;
if (hasImages) {
  prompt += `๐ธ ุงูุตูุฑ ุณุชูุฑุณู ุชููุงุฆูุงู - ูุง ุชุฐูุฑููุง ูู ุงููุต | โ ููููุน: "[ุตูุฑุฉ]" ุฃู "ูุจุนุชูู ุงูุตูุฑ"\n`;
} else {
  prompt += `๐ธ ูุง ุชูุฌุฏ ุตูุฑ - ูุง ุชุฐูุฑู ุงูุตูุฑ ุฃู ุชุทูุจููุง ูู ุงูุนููู\n`;
}
```

**ุงูุชูููุฑ:** ~150-200 ุญุฑู

---

### 6. ุฅุฒุงูุฉ ูุนูููุงุช ุงูุตูุฑ ุงูููุฑุฑุฉ

**ุงูููุงูุน:**
- ุงูุณุทุฑ 817: ูู ูุณู ุงูููุชุฌุงุช ุงูููููุฉ
- ุงูุณุทุฑ 853: ูู ูุณู RAG Data
- ุงูุณุทุฑ 1000-1002: ูู finalNotes

**ุจุนุฏ:**
- โ ุชู ุฅุฒุงูุฉ ุงูุชูุฑุงุฑุงุช - ุงููุนูููุงุช ููุฌูุฏุฉ ูู ูุณู ุชุนูููุงุช ุงูุฌูุฏุฉ

**ุงูุชูููุฑ:** ~50-100 ุญุฑู

---

## ๐ ุงููุชูุฌุฉ

### ูุจู ุงูุฅุตูุงุญ:
- ุงูุญุงูุฉ ุงููุชูุณุทุฉ: ~3900 ุญุฑู
- ุงูุญุงูุฉ ุงููุนูุฏุฉ: ~6000 ุญุฑู
- ุงูุญุงูุฉ ุงููุนูุฏุฉ ุฌุฏุงู: ~8500 ุญุฑู

### ุจุนุฏ ุงูุฅุตูุงุญ:
- ุงูุญุงูุฉ ุงููุชูุณุทุฉ: ~3000 ุญุฑู (ุชูููุฑ: 23%)
- ุงูุญุงูุฉ ุงููุนูุฏุฉ: ~4900 ุญุฑู (ุชูููุฑ: 18%)
- ุงูุญุงูุฉ ุงููุนูุฏุฉ ุงููุนูุฏุฉ ุฌุฏุงู: ~7400 ุญุฑู (ุชูููุฑ: 13%)

### ุชูููุฑ Tokens:
- ูุจู: ~2000-3000 tokens
- ุจุนุฏ: ~1500-2400 tokens
- **ุงูุชูููุฑ:** ~500-600 tokens (20-25%)

---

## โ ุงูุชุฃุซูุฑ ุนูู ุงูุฌูุฏุฉ

### โ ูุง ุชุฃุซูุฑ ุณูุจู:
- โ ุฌููุน ุงููุนูููุงุช ุงููููุฉ ุชุจูู ููุฌูุฏุฉ
- โ ุงูุชุญุฐูุฑุงุช ูุงูุชุนูููุงุช ููุฌูุฏุฉ (ูุฑุฉ ูุงุญุฏุฉ ููุท)
- โ ุงููุนูููุงุช ุฃูุซุฑ ูุถูุญุงู (ุจุฏูู ุชูุฑุงุฑ)

### โ ุชุญุณูู ุงูุฌูุฏุฉ:
- โ ูุนูููุงุช ุฃูุถุญ ูุฃูุซุฑ ุชุฑููุฒุงู
- โ AI ูุฑูุฒ ุนูู ุงููุนูููุงุช ุงููููุฉ
- โ ุชูููู ุงูุชุดุชุช ูู ุงูุชูุฑุงุฑ

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุงูุชุญุณููุงุช ุงููุชุจููุฉ:
1. โ ุชูููู ุณุฌู ุงููุญุงุฏุซุฉ (5 โ 3 ุฑุณุงุฆู)
2. โ ุชุญุณูู RAG Data (10 โ 5 ููุชุฌุงุช)
3. โ ุงุณุชุฎุฏุงู ููุฎุตุงุช ุฐููุฉ

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุฑูุฑ ุจูุงุณุทุฉ:** AI Assistant  
**ุงูุชุงุฑูุฎ:** 2025-11-28












